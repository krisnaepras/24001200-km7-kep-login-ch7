<%- include("partials/header", {title: title}) %>

<div class="container">
    <h2>Reset Password</h2>
    <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
    <% } %>

    <form
        id="resetPasswordForm"
        action="/auth/reset-password/<%= token %>"
        method="post"
    >
        <table>
            <tr>
                <td><label for="password">Password Baru</label></td>
                <td>:</td>
                <td>
                    <input
                        type="password"
                        name="password"
                        id="password"
                        required
                    />
                </td>
            </tr>
            <tr>
                <td><label for="password">Konfirmasi Password</label></td>
                <td>:</td>
                <td>
                    <input
                        type="password"
                        name="confirmPassword"
                        id="confirmPassword"
                        required
                    />
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <button type="submit">Reset Password</button>
                </td>
            </tr>
        </table>
    </form>
</div>
<script src="/socket.io/socket.io.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const socket = io();

        socket.on("resetPasswordSuccess", function (message) {
            alert(message);
        });

        socket.on("resetPasswordError", function (error) {
            alert(error);
        });
    });
</script>
<%- include('partials/footer') %>
